<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.pjmike.lundao.mapper.ReplyMapper" >
 <!--  <resultMap id="BaseResultMap" type="com.pjmike.lundao.po.Reply" >
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="comment_id" property="commentId" jdbcType="INTEGER" />
    <result column="reply_id" property="replyId" jdbcType="INTEGER" />
    <result column="from_uid" property="fromUid" jdbcType="INTEGER" />
    <result column="to_uid" property="toUid" jdbcType="INTEGER" />
    <result column="r_type" property="rType" jdbcType="VARCHAR" />
    <result column="r_view" property="rView" jdbcType="INTEGER" />
    <result column="r_like" property="rLike" jdbcType="INTEGER" />
    <result column="r_attention" property="rAttention" jdbcType="INTEGER" />
    <result column="r_dislike" property="rDislike" jdbcType="INTEGER" />
    <result column="r_publishTime" property="rPublishtime" jdbcType="TIMESTAMP" />
    <result column="r_contentTime" property="rContenttime" jdbcType="TIMESTAMP" />
    <result column="r_floor" property="rFloor" jdbcType="INTEGER" />
  </resultMap>
  <resultMap id="ResultMapWithBLOBs" type="com.pjmike.lundao.po.Reply" extends="BaseResultMap" >
    <result column="r_describtion" property="rDescribtion" jdbcType="LONGVARCHAR" />
  </resultMap> -->
  <!-- 找出提问人与回复人之间的对话 -->
  
  
  
	<resultMap type="com.pjmike.lundao.po.ReplyExtend" id="BaseResultMap">
		  <id column="id" property="id" jdbcType="INTEGER" />
    <result column="comment_id" property="commentId" jdbcType="INTEGER" />
    <result column="reply_id" property="replyId" jdbcType="INTEGER" />
    <result column="from_uid" property="fromUid" jdbcType="INTEGER" />
    <result column="to_uid" property="toUid" jdbcType="INTEGER" />
    <result column="r_like" property="rLike" jdbcType="INTEGER" />
    <result column="r_publishTime" property="rPublishtime" jdbcType="TIMESTAMP" />
    <result column="r_contentTime" property="rContenttime" jdbcType="TIMESTAMP" />    
	</resultMap>

	<select id="select" parameterType="int" resultMap="BaseResultMap">
		select r.id,
	 		r.comment_id,
	 		r.reply_id,
	 		r.from_uid,
	 		r.to_uid,
	 		r.r_like,
	 		r.r_publishTime,
	 		r.r_contentTime 
	 		from reply r where comment_id =#{id}
	</select>
	<select id="selectbyReplyid" parameterType="int" resultMap="BaseResultMap">
		select r.id,
	 		r.comment_id,
	 		r.reply_id,
	 		r.from_uid,
	 		r.to_uid,
	 		r.r_type,
	 		r.r_like,
	 		r.r_publishTime,
	 		r.r_contentTime 
	 		from reply r where id =#{id}
	</select>
 
</mapper>